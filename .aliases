#!/bin/zsh
#{{{ Aliases
alias man='nocorrect man'
alias grep='nocorrect grep -i'
alias egrep='nocorrect egrep -i'
alias convert='nocorrect convert'
alias mv='nocorrect mv -i'
alias ln='nocorrect ln -i'
alias cp='nocorrect cp -i'
alias mkdir='nocorrect mkdir'
alias echo='nocorrect echo'
alias rm='nocorrect rm'
alias locate='nocorrect locate -i'
alias eix='nocorrect noglob eix'
alias git='nocorrect noglob git'
alias wget='nocorrect noglob wget'

alias tmux='TMUX= tmux'
if [ $(uname) = Darwin ] ; then
	alias ls='ls -G -h'
else
	alias ls='ls --color -h'
fi
alias du='du -h'
alias df='df -h'
alias ex='rlwrap ex'
alias ocaml='rlwrap ocaml'
alias qiv='qiv -tm'
alias alpine='alpine -p "{imap.gmail.com/ssl/user=balicki.aleksander@gmail.com}remote_pinerc"'
alias vncviewer='vncviewer -DotWhenNoCursor=0'
alias gist='gist -o -p'
alias pgrep='pgrep -fl'
alias xpdf='xpdf -fullscreen'
alias pgrep='pgrep -fl'

alias i='tmux attach -t irc'
alias m='tmux attach -t mail'
alias t='transmission-remote'
alias scpresume="rsync --partial --progress --rsh=ssh"
alias du1='du --max-depth=1'
alias fresh='ls -lrt'
alias nocomments='grep -v "^[\t ]*#"|grep -v "^[ \t]*$"'
alias vm='kdesu virt-manager'
alias dpaste='wgetpaste -s dpaste'
alias codepad='wgetpaste -s codepad'

if [ "`hostname`" = "adeli" ]
then
	alias blueoff='echo 0 > /sys/devices/platform/thinkpad_acpi/bluetooth_enable'
	alias blueon='echo 1 > /sys/devices/platform/thinkpad_acpi/bluetooth_enable'
	alias hibernate='sudo pm-hibernate'
	alias hi='sudo pm-hibernate'
	alias suspend='sudo pm-suspend'
elif [ "`hostname`" = "bialobrewy" ]
then
	alias thps3='cd ~/.wine/drive_c/Program\ Files/Activision/Thps3 && wine Skate3.exe && cd -'
fi
#}}}
#{{{ Shell functions
def() {	wn "$*" -over }

tmpinstall() {
	install -m 755 "$*" /srv/www/tmp/
	echo "http://alistra.ath.cx/tmp/$*"
}

t-ids() { grep -v 'ETA'| grep -v 'Sum:'| cut -c-4 | xargs commify }

t-fix() { t -t`t -l | grep -v 'ETA'| grep -v 'Sum:'| fgrep '*' | t-ids` -s }

t-load()
{

	for file in $*
	do
		transmission-remote -a $file
	done
}

t-active() { transmission-remote -l | grep -v 'ETA'| grep -v 'Sum:'| grep -v 'Finished'| cut -c-4 | xargs commify }

t-finished() { transmission-remote -l | grep Finished | cut -c-4 | xargs commify }

loop()
{
	while true
	do
		$@
	done
}

proxy()
{
	if [ $# -gt 1 ]; then
		ssh -f -N -D"$2" $1
	else
		ssh -f -N -D31337 $1
	fi
}

soundssh() { dd if=/dev/adsp | ssh -c arcfour -C $* dd of=/dev/adsp }

todo()
{
	if [ "$*" ]; then
		echo "$*" >> ~/.todo
	else
		cat ~/.todo
	fi
}
alias todo='nocorrect noglob todo'

screengrab()
{
	file=`mktemp screengrabXXXX.mpg`
	if [ "`hostname`" = "adeli" ]
	then
		ffmpeg -f x11grab -s wsxga -i :0.0 -y -sameq "$file" 1>/dev/null 2>&1
	else
		ffmpeg -f x11grab -s sxga -i :0.0 -y -sameq "$file" 1>/dev/null 2>&1

	fi
	echo "screengrab file: $file"
}

ghci()
{
	if [ -d cabal-dev/packages-7.2.2.conf ]
	then
		/usr/bin/ghci -package-conf cabal-dev/packages-7.2.2.conf $*
	else
		if [ "$*" ]
		then
			/usr/bin/ghci $*
		else
			/usr/bin/ghci
		fi
	fi
}

ghc()
{
	if [ -d cabal-dev/packages-7.2.2.conf ]
	then
		/usr/bin/ghc -package-conf cabal-dev/packages-7.2.2.conf $*
	else
		if [ "$*" ]
		then
			/usr/bin/ghc $*
		else
			/usr/bin/ghc
		fi
	fi
}
#}}}
